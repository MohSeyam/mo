{"version":3,"sources":["../../src/react/index.ts","../../src/react/MentionPlugin.tsx","../../src/lib/BaseMentionPlugin.ts"],"sourcesContent":["/**\n * @file Automatically generated by barrelsby.\n */\n\nexport * from './MentionPlugin';\n","import { toPlatePlugin } from '@udecode/plate/react';\n\nimport { BaseMentionInputPlugin, BaseMentionPlugin } from '../lib';\n\nexport const MentionPlugin = toPlatePlugin(BaseMentionPlugin);\n\nexport const MentionInputPlugin = toPlatePlugin(BaseMentionInputPlugin);\n","import {\n  type PluginConfig,\n  createSlatePlugin,\n  createTSlatePlugin,\n} from '@udecode/plate';\nimport {\n  type TriggerComboboxPluginOptions,\n  withTriggerCombobox,\n} from '@udecode/plate-combobox';\n\nimport type { TMentionElement } from './types';\n\nexport type MentionConfig = PluginConfig<\n  'mention',\n  {\n    insertSpaceAfterMention?: boolean;\n  } & TriggerComboboxPluginOptions,\n  {},\n  {\n    insert: {\n      mention: (options: { search: string; value: any; key?: any }) => void;\n    };\n  }\n>;\n\nexport const BaseMentionInputPlugin = createSlatePlugin({\n  key: 'mention_input',\n  node: { isElement: true, isInline: true, isVoid: true },\n});\n\n/** Enables support for autocompleting @mentions. */\nexport const BaseMentionPlugin = createTSlatePlugin<MentionConfig>({\n  key: 'mention',\n  node: { isElement: true, isInline: true, isMarkableVoid: true, isVoid: true },\n  options: {\n    trigger: '@',\n    triggerPreviousCharPattern: /^\\s?$/,\n    createComboboxInput: (trigger) => ({\n      children: [{ text: '' }],\n      trigger,\n      type: BaseMentionInputPlugin.key,\n    }),\n  },\n  plugins: [BaseMentionInputPlugin],\n})\n  .extendEditorTransforms<MentionConfig['transforms']>(({ editor, type }) => ({\n    insert: {\n      mention: ({ key, value }) => {\n        editor.tf.insertNodes<TMentionElement>({\n          key,\n          children: [{ text: '' }],\n          type,\n          value,\n        });\n      },\n    },\n  }))\n  .overrideEditor(withTriggerCombobox as any);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAA,mBAA8B;;;ACA9B,mBAIO;AACP,4BAGO;AAiBA,IAAM,6BAAyB,gCAAkB;AAAA,EACtD,KAAK;AAAA,EACL,MAAM,EAAE,WAAW,MAAM,UAAU,MAAM,QAAQ,KAAK;AACxD,CAAC;AAGM,IAAM,wBAAoB,iCAAkC;AAAA,EACjE,KAAK;AAAA,EACL,MAAM,EAAE,WAAW,MAAM,UAAU,MAAM,gBAAgB,MAAM,QAAQ,KAAK;AAAA,EAC5E,SAAS;AAAA,IACP,SAAS;AAAA,IACT,4BAA4B;AAAA,IAC5B,qBAAqB,CAAC,aAAa;AAAA,MACjC,UAAU,CAAC,EAAE,MAAM,GAAG,CAAC;AAAA,MACvB;AAAA,MACA,MAAM,uBAAuB;AAAA,IAC/B;AAAA,EACF;AAAA,EACA,SAAS,CAAC,sBAAsB;AAClC,CAAC,EACE,uBAAoD,CAAC,EAAE,QAAQ,KAAK,OAAO;AAAA,EAC1E,QAAQ;AAAA,IACN,SAAS,CAAC,EAAE,KAAK,MAAM,MAAM;AAC3B,aAAO,GAAG,YAA6B;AAAA,QACrC;AAAA,QACA,UAAU,CAAC,EAAE,MAAM,GAAG,CAAC;AAAA,QACvB;AAAA,QACA;AAAA,MACF,CAAC;AAAA,IACH;AAAA,EACF;AACF,EAAE,EACD,eAAe,yCAA0B;;;ADrDrC,IAAM,oBAAgB,4BAAc,iBAAiB;AAErD,IAAM,yBAAqB,4BAAc,sBAAsB;","names":[]}